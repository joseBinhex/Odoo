<odoo>
  <data>

    <!-- DEFINITION LIST VIEW COURSE-->
    <record model="ir.ui.view" id="course_list">
      <field name="name">Courses list</field>
      <field name="model">openacademy.course</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="title"/>
          <field name="description"/>
          <field name="responsible"/>
          
        </tree>
      </field>
    </record>

    <!-- FORMULARIO -->
    <record model="ir.ui.view" id="course_form">
      <field name="name">Courses list</field>
      <field name="model">openacademy.course</field>
      <field name="arch" type="xml">
        <form string="Course Form">

          <group colspan="2" col="2">
            <field name="name" style="font-size:13pt"> Name</field>
            <field name="title" style="font-size:13pt"> Title</field>
            <field name="image" widget="image" class="oe_avatar"/>
            <field name="attachment_ids" widget="many2many_binary"/>
          </group>

          <notebook colspan="4">
            <page string="Description">
                <field name="description" nolabel="1"/>
            </page>
            <page string="Responsible">
                <field name="responsible" nolabel="1"/>
            </page>
            <page string="Sessions">
                <field name="sessions" nolabel="1" widget="many2many_tags"/>
            </page>
            <page string="Content">
                <field name="contenido" nolabel="1" widget="html"/>
            </page>
        </notebook>

        </form>
      </field>
    </record>

    <!-- SEARCH VIEW  -->
    <record model="ir.ui.view" id="course_search">
      <field name="name">Courses list</field>
      <field name="model">openacademy.course</field>
      <field name="arch" type="xml">
        <search>
          <field name="title"/>
          <field name="description"/>
          <field name="responsible"/>

           <filter name="responsible_search" string="Responsible Search"
            domain="[('responsible', '=', uid)]"/>

            <group string="Group By">
              <filter name="group_by_responsible" string="Group by Responsible"
                context="{'group_by': 'responsible'}"/>
            </group>
        </search>
      </field>
    </record>
    
    


  <record model="ir.actions.act_window" id="action_list_courses">
    <field name="name">Courses</field>
    <field name="res_model">openacademy.course</field>
    <field name="view_mode">tree,form</field>
    <!--     SEARCH VIEW BY DEFAULT    -->
    <field name="context">{"search_default_responsible_search":1}</field>
  </record>

  

    <!-- DEFINITION LIST VIEW  SESSIONS-->
    <record model="ir.ui.view" id="sessions_list">
      <field name="name">Sessions list</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
        <tree decoration-info="duration&lt;5" decoration-danger="duration>15" >
          <field name="name"/>
          <field name="duration" widget="float_time"/>
          <field name="number_seats"/>
          <field name="instructor" />
          <field name="course_name"/>
          <field name="attendees"/>
          <field name="taken_seats" widget='progressbar'/>
          <field name="date_start"></field>
          <field name="finish_date"/>
        </tree>
      </field>
    </record>

    <!-- FORMULARIO -->
    <record model="ir.ui.view" id="sessions_form">
      <field name="name">Sessions Form</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
        <form string="Sessions Form">
        <group>
          <group>
            <field name="name" style="font-size:13pt">Name</field>
            <field name="duration" style="font-size:13pt" widget="float_time">Duration</field>
            <field name="instructor" style="font-size:13pt"/>
            <field name="course_name" style="font-size:13pt">Course</field>
            <field name="date_start"></field>
            <field name="finish_date"></field>
          </group>

          <group>
            <field name="localization" style="font-size:13pt">Localization</field>
            <field name="attendees_count" style="font-size:13pt">Number Seats</field>
            <field name="max_seats" style="font-size:13pt">Course</field>
            <field name="taken_seats" style="font-size:13pt" widget='progressbar'/>
          </group>
          <notebook>
            <page name="Attendees" string="Attendees">
              <field name="attendees" style="font-size:13pt" string="Attendees" widget="many2many_tags">Course</field> 
            </page>
          </notebook>
             
        </group>
        </form>
      </field>
    </record>
    
    <!-- SEARCH VIEW  -->
    <record model="ir.ui.view" id="sessions_search">
      <field name="name">Sessions Search</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
        <search>
          <field name="name"/>
        </search>
      </field>
    </record>


<!--         -->

  <record model="ir.actions.act_window" id="action_list_courses">
    <field name="name">Courses</field>
    <field name="res_model">openacademy.course</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record model="ir.actions.act_window" id="action_list_sessions">
    <field name="name">Sessions</field>
    <field name="res_model">openacademy.sessions</field>
    <field name="view_mode">tree,kanban,form,calendar,gantt,graph</field>
  </record>

    <menuitem name="Open Academy" id="openacademy.menu_root" web_icon="openacademy,static/description/icon.png"/>
    
    <menuitem id="menu_courses" parent="openacademy.menu_root" name="Courses" sequence="10"
            action="action_list_courses"/>

    <menuitem id="menu_sessions" parent="openacademy.menu_root" name="Sessions" sequence="10"
            action="action_list_sessions"/>


<!-- WIZARD THING -->
  <record id="launch_session_wizard" model="ir.actions.act_window">
    <field name="name">Add Attendees</field>
    <field name="res_model">openacademy.attendses</field>
    <field name="view_mode">form</field>
    <field name="target">new</field>
    <field name="binding_model_id" ref="openacademy.model_openacademy_sessions"></field>
  </record>

    <record id="launch_the_wizard" model="ir.ui.view">
        <field name="name">wizard.form</field>
        <field name="model">openacademy.attendses</field>
        <field name="arch" type='xml'>
          <form string='Add Attendees'>
            <group>
              <field name="sesion_name" widget="many2many_tags"></field>
              <field name="partners_name" widget="many2many_tags"></field>
            </group>
            <footer>
              <button name='subscribe' type='object' string='Add'/>
              or
              <button special='cancel' string='Cancel'/>
            </footer>
          </form>
        </field>
    </record>

        <!-- NUEVO HERENCIA -->
  <record id="partners_category_list2" model="ir.ui.view">
    <field name="name">id.partner.list2</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form"/>
    <field name="arch" type="xml">
        <!-- find field description and add the field
             idea_ids after it -->
        <xpath expr="//field[@name='category_id']" position="after">
          <field name="instructor" string="Instructor"/>
        </xpath>
    </field>
  </record>

  <record id="session_partner_category_list2" model="ir.ui.view">
      <field name="name">id.session_partner.list2</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
          <!-- find field description and add the field
              idea_ids after it -->
          <xpath expr="//field[@name='instructor']" position="after">
            <field name="session_partner" string="Session partner"/>
          </xpath>
      </field>
  </record>

  <!--  VISTA DE CALENDARIO  -->
  <record id="sessions_view_calendar" model="ir.ui.view">
    <field name="name">sessions.view.calendar</field>
    <field name="model">openacademy.sessions</field>
    <field name="arch" type="xml">
      <calendar string="" date_start="date_start">
        <field name="name"></field>
      </calendar>
    </field>
  </record>

<!-- VISTA DE GANTT -->
    <record id="sessions_gantt" model="ir.ui.view">
      <field name="name">sessions.gantt</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
          <gantt string="Sessions" date_start="date_start" date_stop="finish_date" 
            default_group_by='instructor'>
          </gantt>
      </field>
    </record>

    <!--  VISTA DE GRAPH -->
    <record id="sessions_graph" model="ir.ui.view">
      <field name="name">sessions.graph</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
        <graph string="Total atendees">
            <field name="course_name"/>
            <field name="attendees_count" type="measure"/>
        </graph>
      </field>
    </record>
    
    <!--  WIDGET KANBAN -->
    <record id="model_name_view_kanban" model="ir.ui.view">
      <field name="name">model_name.view.kanban</field>
      <field name="model">openacademy.sessions</field>
      <field name="arch" type="xml">
        <kanban default_group_by='course_name'>        
          <field name="name"/>
          <field name="duration"/>
          <field name="number_seats"/>
          <field name="instructor" />
          <field name="attendees"/>
          <field name="taken_seats" widget='progressbar'/> 
          <field name="date_start"/>
          <field name="finish_date"/>
          <templates>
                 <t t-name="kanban-box">
                     <div class="oe_kanban_global_click o_kanban_record_has_image_fill o_recrutement_candidatures_kanban">
                    
                         <div class="oe_kanban_details">
                             <strong class="o_kanban_record_title">
                                 <field name="name"/>
                             </strong>
                             <div class="o_kanban_tags_section"/>
                             <ul>
                                 <li>
                                     Duration:
                                     <field name="duration"/>
                                 </li>
                                 <li>
                                     Number Seats:
                                     <field name="number_seats"/>
                                 </li>
                                 <li>
                                     Instructor:
                                     <field name="instructor"/>
                                 </li>
                                 <li>
                                     Attendees:
                                     <field name="attendees"/>
                                 </li>
                                 <li>
                                     Taken Seats:
                                     <field name="taken_seats"/>
                                 </li>
                                 <li>
                                     Date Start:
                                     <field name="date_start"/>
                                 </li>
                                 <li>
                                     Date Finish:
                                     <field name="finish_date"/>
                                 </li>
                             </ul>
                         </div>
                     </div>
                 </t>
             </templates>
        </kanban>
      </field>
    </record>





  </data>
</odoo>